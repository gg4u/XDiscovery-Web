diff --git a/frontend/app/index.html b/frontend/app/index.html
index 450f098..9c1d2b7 100644
--- a/frontend/app/index.html
+++ b/frontend/app/index.html
@@ -1,4 +1,4 @@
-<!-- @if ENV='dist' -->{% load cms_tags %}{% if not request.GET.angular %}<!-- @endif -->
+<!-- @if ENV='dist' -->{% load cms_tags sekizai_tags %}<!-- @endif -->
 <!doctype html>
 <!--[if lt IE 7]>      <html ng-app="xdiscoveryApp" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
 <!--[if IE 7]>         <html ng-app="xdiscoveryApp" class="no-js lt-ie9 lt-ie8"> <![endif]-->
@@ -19,6 +19,7 @@
 	<link rel="stylesheet" href="/styles/main.css">
 	<!-- endbuild -->
         <!-- @if ENV='dist' -->
+        {% render_block "css" %}
 	{% block extrahead %}{% endblock %}
         <!-- @endif -->
 </head>
@@ -33,6 +34,7 @@
 		<![endif]-->
 
 		<!-- @if ENV='dist' -->
+                {% cms_toolbar %}
                 {% include "xdw_web/navbar.html" %}
                 <!-- @endif -->
 		<!-- @if ENV!='dist' -->
@@ -55,12 +57,7 @@
 		<section id="page" role="main" ng-class="pageClass">
 			<div ng-view ng-cloak>
 		            <!-- @if ENV='dist' -->
-                            {% comment %}This condition splits the whole page
-                            in two parts, so that when angular loads it only the
-                            `content` block is rendered{% endcomment %}
-                            {% endif %}
 		            {% block content %}{% endblock %}
-                            {% if not request.GET.angular %}
                             <!-- @endif -->
 			</div>
 		</section>
@@ -178,4 +175,4 @@
 		});
 		</script>
 </body>
-</html><!-- @if ENV='dist' -->{% endif %}<!-- @endif -->
+</html>
diff --git a/xdimension_web/settings/common.py b/xdimension_web/settings/common.py
index 8bb92a8..e27a445 100644
--- a/xdimension_web/settings/common.py
+++ b/xdimension_web/settings/common.py
@@ -93,6 +93,7 @@ TEMPLATE_CONTEXT_PROCESSORS = (
     'django.core.context_processors.static',
     'cms.context_processors.media',
     'sekizai.context_processors.sekizai',
+    'xdimension_web.xdw_web.context_processors.spa_mpa',
 )
 
 ROOT_URLCONF = 'xdimension_web.urls'
diff --git a/xdimension_web/xdw_web/templates/xdw_web/base.html b/xdimension_web/xdw_web/templates/xdw_web/base.html
index 3482ec2..49d879a 100644
--- a/xdimension_web/xdw_web/templates/xdw_web/base.html
+++ b/xdimension_web/xdw_web/templates/xdw_web/base.html
@@ -1,3 +1,3 @@
-{% extends "frontend/index.html" %}
+{% extends base_template %}
 {% load cms_tags %}
 {% block content %}{% placeholder "main" %}{% endblock content %}
diff --git a/xdimension_web/xdw_web/templates/xdw_web/cms_templates/landing.html b/xdimension_web/xdw_web/templates/xdw_web/cms_templates/landing.html
index 45c4cd8..b7c8995 100644
--- a/xdimension_web/xdw_web/templates/xdw_web/cms_templates/landing.html
+++ b/xdimension_web/xdw_web/templates/xdw_web/cms_templates/landing.html
@@ -1,4 +1,4 @@
-{% extends "frontend/index.html" %}
+{% extends base_template %}
 {% load cms_tags menu_tags %}
 {% block content %}
 <header class="xd-page-header xd-custom-page-header">
